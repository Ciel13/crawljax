<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
    <title>Crawljax</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

	<link href="css/bootstrap.min.css" rel="stylesheet">
	<link href="css/wrap.css" rel="stylesheet">
	<link href="css/bootstrap-responsive.min.css" rel="stylesheet">
	
	 <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
</head>
<body>
	<div class="navbar navbar-inverse navbar-fixed-top">
      <div class="navbar-inner">
        <div class="container-fluid">
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
            <span class="icon-bar"></span>
          </a>
          <a class="brand" href="#">Crawljax</a>
          <div class="nav-collapse collapse">
            <ul class="nav">
              <li class="active"><a href="#">Home</a></li>
              <li><a href="#about">About</a></li>
              <li><a href="#contact">Contact</a></li>
            </ul>
            <ul class="nav pull-right">
              <li><a href="#">Sign in with GitHub</a></li>
            </ul>
          </div><!--/.nav-collapse -->
        </div>
      </div>
    </div>

    <div class="container-fluid">
      <div class="row-fluid">
        <div class="span3">
          <ul class="well breadcrumb">
  			<li><a href="#">Home</a> <span class="divider">/</span></li>
  			<li><a href="#">Library</a> <span class="divider">/</span></li>
  			<li class="active">Data</li>
		  </ul>
          <div class="well sidebar-nav">
            <ul class="nav nav-list">
              <li class="nav-header">Manage</li>
              <li><a href="#">New Configuration</a></li>
              <li><a href="#">People</a></li>
              <li><a href="#">Crawl History</a></li>
			  <li><a href="#">Manage Crawljax</a></li>
            </ul>
          </div>
          <div class="well sidebar-nav">
            <ul class="nav nav-list">
          	  <li class="nav-header">Crawl Execution Queue</li>
          	  <li class="divider"></li>
          	  <li class="nav-header">Executor Status</li>
          	</ul>
          </div>
        </div><!--/span-->
        
        <div class="span9">
        
        <div data-bind="page: {id: 'start'}">
			<ul class="nav nav-tabs">
  				<li class="active"><a href="#">All</a></li>
  				<li><a href="#">+</a></li>
			</ul>
			<div class="tab-content">
				<table class="table table-striped">
				  <thead>
 				  <tr>
 					<th>Status</th>
 					<th>Name</th>
 					<th>Site</th>
 					<th>Last Crawl</th>
 					<th>Last Duration</th>
 				  </tr>
 				  </thead>
 				  <tbody data-bind="foreach: configSummaries">
 				  <tr data-bind="click: $parent.selectConfig">
 					<td data-bind="text: status"></td>
 					<td><a data-bind="page-href: '../'+id, text: name"></a></td>
 					<td><a data-bind="attr: {href: 'http://' + site}, text: site" target="_blank"></a></td>
 					<td data-bind="text: lastCrawl"></td>
 					<td data-bind="text: lastDuration"></td>
 				  </tr>
 				  </tbody>
				</table>
			</div>
		</div>
		
		<div data-bind="page: {id: '?'}">
			Error
		</div>
		
        </div><!--/span-->
      </div><!--/row-->
    </div>

	<script type="text/javascript" src="http://code.jquery.com/jquery-latest.js"></script>
    <script type="text/javascript" src="js/bootstrap.min.js"></script>
    <script type="text/javascript" src="js/knockout-2.2.1.js"></script>
    <script type="text/javascript" src="js/jquery.history.js"></script>
    <script type="text/javascript" src="js/pager.min.js"></script>
    <script type="text/javascript">
    	function configSummary(id, status, name, site, lastCrawl, lastDuration)
    	{
    		this.id = id;
    		this.status = status;
    		this.name = name;
    		this.site = site;
    		this.lastCrawl = lastCrawl;
    		this.lastDuration = lastDuration;
    	}
    	var viewModel = {
    		configSummaries: ko.observableArray(
    				[new configSummary("1", "Idle", "Some Config", "www.google.com", "1/12/2013 4:23 PM", "13 min 26 sec"),
    				 new configSummary("2", "Idle", "Other Config", "www.yahoo.com", "1/23/2013 10:37 AM", "9 min 48 sec"),
    				 new configSummary("4", "Idle", "Another Config", "www.msn.com", "1/27/2013 7:37 AM", "27 min 3 sec")])
    	};
    	
    	//pager.useHTML5history = true;
    	//pager.Href5.history = History;
    	
    	pager.extendWithPage(viewModel);
    	ko.applyBindings(viewModel);
    	
    	pager.start();//HistoryJs();
    </script>
</body>
</html>
