<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="utf-8">
    <title>CrawljaxUI</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

	<link href="css/bootstrap.min.css" rel="stylesheet">
	<link href="css/wrap.css" rel="stylesheet">
	<link href="css/bootstrap-responsive.min.css" rel="stylesheet">
	
	 <!-- HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
      <script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
</head>
<body>
    <script type="text/x-handlebars">
	<div class="navbar navbar-inverse navbar-fixed-top">
      	<div class="navbar-inner">{{partial header}}</div>
    </div>
	<div class="container">
		<div class="row">{{outlet}}</div>
	</div>  		
	</script>
	
	<script type="text/x-handlebars" data-template-name="_header">
        <div class="container">
          <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
            <span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span>
          </a>
          <a class="brand" href="http://www.crawljax.com" target="_blank">CrawljaxUI</a>
          <div class="nav-collapse collapse">
            <ul class="nav">
              <li class="active"><a href="#">Home</a></li>
              <li><a href="#/about">About</a></li>
            </ul>
            <ul class="nav pull-right">
              <li><a href="#">Sign In</a></li>
            </ul>
          </div><!--/.nav-collapse -->
        </div>
	</script>
	
	<script type="text/x-handlebars" data-template-name="_sidebar">
	<div class="span3">
		{{view App.BreadcrumbView}}
        <div class="well sidebar-nav">{{view App.SideNavView}}</div>
        <div class="well sidebar-nav">
            <ul class="nav nav-list">
          	  	<li class="nav-header">Crawl Execution Queue</li>
          	  	<li class="divider"></li>
          	  	<li class="nav-header">Executor Status</li>
          	</ul>
        </div>
    </div> 
	</script>

	<script type="text/x-handlebars" data-template-name="config_list">
	{{partial sidebar}}     
    <div class="span9">
	<div class="tab-content">
		<table class="table table-striped">
			<thead>
 				<tr><th>Name</th><th>Site</th><th>Last Crawl</th><th>Last Duration</th></tr>
 			</thead>
 			<tbody>
				{{#each controller.content}}
 				<tr>
 					<td>{{#linkTo 'config' this}}{{name}}{{/linkTo}}</td>
 					<td><a {{bindAttr href="url"}} target="_blank">{{url}}</a></td>
 					<td>{{lastCrawl}}</td>
 					<td>{{lastDuration}}</td>
 				</tr>
				{{else}}<tr><td colspan="5">No available configurations.</td></tr>{{/each}}
 			</tbody>
		</table>
	</div>
	</div><!--/span-->	
	</script>
	
	<script type="text/x-handlebars" data-template-name="_config_tabs">
	<ul class="nav nav-tabs">
		{{#linkTo 'config.index' tagName="li" href=false}}<a {{bindAttr href="view.href"}}>Overview</a>{{/linkTo}}
		{{#linkTo 'config.advanced' tagName="li" href=false}}<a {{bindAttr href="view.href"}}>Advanced</a>{{/linkTo}}
		{{#linkTo 'config.plugins' tagName="li" href=false}}<a {{bindAttr href="view.href"}}>Plugins</a>{{/linkTo}}
	</ul>
	</script>
	
	<script type="text/x-handlebars" data-template-name="_config_general">
	<form id="config_form" class="form-horizontal">	
	<fieldset>
		<legend>General Information</legend>
		{{#if controller.content.id}}
			{{view App.FormField label="Name:" valueBinding="controller.content.name"}}
		{{else}}
			{{view App.FormTextField label="Name:" valueBinding="controller.content.name" placeholder="Configuration Name" required="true" errorText="This field is Required"}}
		{{/if}}
		{{view App.FormTextField label="Site:" valueBinding="controller.content.url" placeholder="http://www.example.com" type="url" 
			required="true" pattern="(http|https)://.+" errorText="Must provide a valid url. http://www.example.com"}}
		{{view App.FormSelect label="Browser:" valueBinding="controller.content.browser" contentBinding="App.browsers" optionValuePath="content.value"
       		optionLabelPath="content.name"}}
		{{view App.FormTextField type="number" min="0" label="Number of Browsers:" valueBinding="controller.content.numBrowsers"}}
		{{view App.FormCheckbox label="Boot Browsers at Start" checkedBinding="controller.content.bootBrowser"}}
		{{view App.FormTextField type="number" min="0" label="Maximum Crawl Depth:" valueBinding="controller.content.maxDepth"}}
		{{view App.FormTextField type="number" min="0" label="Maximum Crawl States:" valueBinding="controller.content.maxState"}}
		{{view App.FormTextField type="number" min="0" label="Maximum Duration(min):" valueBinding="controller.content.maxDuration"}}
		{{view App.FormTextField type="number" min="0" label="Event Wait Time(ms):" valueBinding="controller.content.eventWaitTime"}}
		{{view App.FormTextField type="number" min="0" label="Reload Wait Time(ms):" valueBinding="controller.content.reloadWaitTime"}}
		{{view App.FormCheckbox label="Click Elements Once" checkedBinding="controller.content.clickOnce"}}
	</fieldset>
	</form>
	</script>
	
	<script type="text/x-handlebars" data-template-name="new">{{partial sidebar}}<div class="span9">{{partial config_general}}</div></script>
	
	<script type="text/x-handlebars" data-template-name="config">{{partial sidebar}}<div class="span9">{{outlet}}</div></script>
	
	<script type="text/x-handlebars" data-template-name="config/index">{{partial config_tabs}}{{partial config_general}}</script>
	
	<script type="text/x-handlebars" data-template-name="config/advanced">
	{{partial config_tabs}}
	<form id="config_form" class="form-horizontal">	
		<fieldset>
			<legend>Clickable Elements</legend>
			{{view App.FormSelect label="Click Rules:" contentBinding="App.clickRules" optionValuePath="content.value"
       optionLabelPath="content.name"}}
		</fieldset>
		<fieldset>
			<legend>Field Filters</legend>
		</fieldset>
		<fieldset>
			<legend>Page Conditions</legend>
		</fieldset>
		<fieldset>
			<legend>Form Field Values</legend>
		</fieldset>
	</form>
	</script>
	
	<script type="text/x-handlebars" data-template-name="config/plugins">
	{{partial config_tabs}}
	<form id="config_form" class="form-horizontal">	
		<fieldset>
			<legend>Plugins</legend>
	</form>
	</script>
	
	<script type="text/x-handlebars" data-template-name="history_list">{{partial sidebar}}{{outlet}}</script>
	
	<script type="text/x-handlebars" data-template-name="history_list/index">
	<div class="span9">
	<div class="tab-content">
		<table class="table table-striped">
			<thead>
 				<tr><th>Crawl Number</th><th>Configuration</th><th>Time Stamp</th></tr>
 			</thead>
 			<tbody>
				{{#each controller}}
 				<tr>
 					<td>{{#linkTo 'history' this.id}}{{id}}{{/linkTo}}</td>
 					<td><a {{bindAttr href="configURL"}}>{{configurationId}}</a></td>
 					<td>{{formatCreateTime}}</td>
 				</tr>
				{{else}}<tr><td colspan="5">No available crawls.</td></tr>{{/each}}
 			</tbody>
		</table>
	</div>
	</div><!--/span-->
	</script>	
	
	<script type="text/x-handlebars" data-template-name="history">
	<div class="span9">
		Run Time Output
	</div><!--/span-->
	</script>

	<script type="text/javascript" src="http://code.jquery.com/jquery-latest.js"></script>
    <script type="text/javascript" src="js/bootstrap.min.js"></script>
    <script type="text/javascript" src="js/handlebars.js"></script>
	<script type="text/javascript" src="js/ember-1.0.0-rc.1.js"></script>
    <script type="text/javascript" src="js/app.js"></script>
    <script type="text/javascript" src="js/configuration.js"></script>
    <script type="text/javascript" src="js/crawlhistory.js"></script>
    <script type="text/javascript" src="js/common-views.js"></script>
    <script type="text/javascript" src="js/validation.js"></script>
</body>
</html>
